<!DOCTYPE html>
<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
    	<meta name="viewport"/>
		<title>农场</title>
		<link rel="stylesheet" type="text/css" href="css/reset.css"/>
		<link rel="stylesheet" type="text/css" href="css/nongchang.css"/>
		<link rel="stylesheet" type="text/css" href="css/swiper-3.4.2.min.css"/>
	</head>
	<body>
		<!--头部-->
		<header>
			<section class="top">农场<span class="goBack">返回</span><span class="point"></span></section>
		</header>
		<section class="headerFill"></section>
		<section class="search">
			<input type="text"  placeholder="输入关键字搜索" />
		</section>
		<section class="searchFill"></section>
		<section class="fenlei">
			<div class="left active1">
				<p><span class="quyu">白云区<i class="active"></i></span></p>
				<div class="place">
					<ul class="province">
						<li class="active2">广东</li>
						<li>广西</li>
						<li>湖南</li>
						<li>湖北</li>
						<li>海南</li>
					</ul>
					<ul class="city">
						<li class="active2">广州</li>
						<li>佛山</li>
						<li>中山</li>
						<li>珠海</li>
						<li>湛江</li>
					</ul>
					<ul class="count">
						<li class="active2">白云区</li>
						<li>天河区</li>
						<li>花都区</li>
						<li>番禺区</li>
						<li>越秀区</li>
					</ul>
				</div>
			</div>
			<div class="right">
				<p><span class="leixing">商品类型<i></i></span></p>
				<div class="downList">
					<!--<h3>商品类型</h3>-->
					<ul>
						<li class="active3">商品类型</li>
						<li>商品类型</li>
						<li>商品类型</li>
						<li>商品类型</li>
					</ul>
				</div>
			</div>
		</section>
		<section class="fenleiFill"></section>
		<div class="swiper-container">
			<div class="swiper-wrapper">
				<div class="swiper-slide">
					<section class="shoppingList">
						<ul>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
						</ul>
					</section>
				</div>
				<div class="swiper-slide">
					<section class="shoppingList">
						<ul>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
							<li>
								<div class="liWrap">
									<div class="left pic"><a href="nongchang-detail.html"><img src="img/lyd.jpg"/></a></div>
									<div class="left explain">
										<p>绿怡岛</p>
										<p class="middle">开心果<b class="right">已售201</b></p>
										<p>&yen;<i>:</i>59.9<b class="right">广州</b></p>
									</div>
								</div>	
							</li>
						</ul>
					</section>
				</div>
			</div>
		</div>
		
		<section class="botFill"></section>
		<footer id="footer">
			<ul>
				<li>
					<a href="shouye.html">
						<p></p>
						<span>商城</span>
					</a>
				</li>
				<li>
					<p></p>
					<span>农场</span>
				</li>
				<li>
					<a href="my.html">
						<p></p>
						<span>我的</span>
					</a>
				</li>
			</ul>
		</footer>
		
		<script type="text/javascript" src="js/phoneadaptation.js"></script>
		<script type="text/javascript" src="js/zepto.js"></script>
		<script type="text/javascript" src="js/swiper-3.4.2.jquery.min.js"></script>
		<script type="text/javascript" src="js/common.js"></script>
		<script type="text/javascript">
			$(function(){
				var vH=document.documentElement.clientHeight;//屏幕的高度
				var w=document.body.clientWidth;//屏幕的宽度
				var tH=$('header').height();
				var fenleiH=$('.fenlei').height();
				var searchH=$('.search').height();
				var footerH=$('#footer').height();
				var minH=vH-tH-fenleiH-searchH-footerH;
				minSlideHight();
				function minSlideHight(){
					$('.swiper-container .swiper-slide').css({'min-height':minH+'px'})
				}
				var isslide=false;
				var myswiper=new Swiper('.swiper-container',{
					direction:'horizontal',
					loop:false,
					autoHeight:true,
					onTouchMove:function(){
						isslide=true;
					},
					onSlideChangeEnd:function(){
						var index=$('.swiper-wrapper .swiper-slide-active').index();
						console.log(index)
						$('.fenlei>div').eq(index).find('i').addClass('active').parents('div').siblings().find('i').removeClass('active');//背景图片的转化
						$('.fenlei>div').eq(index).addClass('active1').siblings().removeClass('active1');					
					},
					onTransitionEnd:function(){
						isslide=false;
					}
				})
				//点击分类切换内容
				$('.fenlei div').on('singleTap',function(){
					var index=$(this).index();
					$(this).find('div').show();
					$(this).find('i').addClass('active').parents('div').siblings().find('i').removeClass('active');//背景图片的转化
					$(this).addClass('active1').siblings().removeClass('active1');//边框、文字颜色抓换
					myswiper.slideTo(index);
//					$('.swiper-wrapper').animate({transform:'translate3d(-'+index*w+'px,0,0)'},150,'ease-out')
					
				})
				
				
				$('.shoppingList>ul>li').on('singleTap',function(){
					if(isslide==false){
						window.location="nongchang-detail.html";	
					}
					
				})
				
				
				//商品类型
				$('.fenlei .downList li').on('singleTap',function(){
					$(this).addClass('active3').siblings().removeClass('active3');
				})
				
				//选择区域
				$('.quyu').on('singleTap',function(){
					$('.fenlei .place').toggleClass('show');
				})
				var cityArr=['梧州','桂林','南宁','柳州','贺州']
				var arr=['古龙','太平','苍梧','冷脚','藤县']
				//地址选择
				$('.place .province').on('singleTap','li',function(){
					$(this).addClass('active2').siblings().removeClass('active2');
					var city=$('.place .city')[0];
					var li=city.querySelectorAll('li');
					var len=li.length;
					for(var i=0;i<len;i++){
						li[i].innerHTML=cityArr[i];
					}
				})
				$('.place .city').on('singleTap','li',function(){
					$(this).addClass('active2').siblings().removeClass('active2');
					var count=$('.place .count')[0];
					var li=count.querySelectorAll('li');
					var len=li.length;
					for(var i=0;i<len;i++){
						li[i].innerHTML=arr[i];
					}
				})
				
				$('.place .count').on('singleTap','li',function(){
					$(this).addClass('active2').siblings().removeClass('active2');
					var arr=[];
					for(var i=0;i<3;i++){
						arr.push($('.place .active2').eq(i).text())	
					}
					alert(arr);
					$('.fenlei .place').removeClass('show');//隐藏地址栏
				})
				
				
			})
		</script>
	</body>
</html>
